!function(a){function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(a,b,c){var e,f,g,h=null,i=0;c||(c={});var j=function(){i=c.leading===!1?0:d(),h=null,g=a.apply(e,f),h||(e=f=null)};return function(){var k=d();i||c.leading!==!1||(i=k);var l=b-(k-i);return e=this,f=arguments,l<=0||l>b?(h&&(clearTimeout(h),h=null),i=k,g=a.apply(e,f),h||(e=f=null)):h||c.trailing===!1||(h=setTimeout(j,l)),g}}var d=Date.now||function(){return(new Date).getTime()};a(window).on("load",function(){function d(){a(window).width()<800&&a(".nav a").click(f)}function e(){a("#nav").removeClass("open"),d()}function f(){return a(this).parent().hasClass("selected")?(a("#nav").addClass("open"),a(this).click(e),!1):void e()}function g(){h(),d()}function h(){j=[],a(".section").each(function(b){j[b]=a(this).offset().top,k[b]=this.id}),j.push(a(document).height())}function i(){var b=a(window).scrollTop()+40;a(document).height();b<j[0]&&(m||(a("nav li:first-child>a").addClass("selected"),m=!0,console.log("selected first item")));for(var c=0;c<j.length;c++)if(b>=j[c]&&b<j[c+1]){var d=a("nav>ul li:nth-child("+(c+1)+")>a");if(d.hasClass("selected"))break;a(".selected").removeClass("selected"),console.log("cleared selections"),d.addClass("selected"),console.log("selected new item"),m=!0;break}}var j=[],k=[],l=a(".nav").offset().top;0===l&&(l=a(window).height());var m=!1,n=!1;console.log(a(window).scrollTop()),console.log(l),console.log(n),h(),a(window).resize(b(g,100)),d(),a(window).scroll(function(){a(window).scrollTop()>l?(n||(a("#header-wrapper").removeClass("before-scroll").addClass("after-scroll"),n=!0,console.log("scrolled down")),c(i(),250),a(".selected").length||(a("nav li:first-child>a").addClass("selected"),console.log("scrollTop: ",a(window).scrollTop()," fixedOn: ",l))):a(window).scrollTop()<=l&&(n&&(a("#header-wrapper").removeClass("after-scroll").addClass("before-scroll"),n=!1,console.log("scrolled up")),m&&(a("nav li>a.selected").removeClass("selected"),m=!1,console.log("cleared selections on scroll up")),l=a(window).width()<800?a(window).height():a(".nav").offset().top)}),a(window).trigger("scroll"),a(".nav a").click(function(){var b=a(a(this).attr("href")).offset().top,c=Math.abs(b-a(window).scrollTop()),d=c/2.5;return a("html, body").animate({scrollTop:b},d,i),!1}),a(".logo").click(function(){var b=a(window).scrollTop()/2.5;a(".selected").length&&a("html, body").animate({scrollTop:0},b)})});var e=a("#contact-form-response"),f=a("#contact-form"),g=a(f).parent();a(f).submit(function(b){b.preventDefault();var c=f.serialize();a(g).addClass("waiting"),a.ajax({type:"POST",url:a(f).attr("action"),data:c}).done(function(b){a(e).removeClass("error"),a(e).addClass("success"),a(g).removeClass("waiting"),a(f).hide(),a(e).text(b)}).fail(function(b){a(g).removeClass("waiting"),a(e).addClass("error");var c=b.responseText;""!==c.responseText?a(e).text(c):a("#responseDiv > p.unknown-error").show()})}),a(".logo").hover(function(){a(this).toggleClass("hover")})}(jQuery);
//# sourceMappingURL=main.min.js.map