!function(a){function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:j(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var k=j();h||c.leading!==!1||(h=k);var l=b-(k-h);return d=this,e=arguments,l<=0||l>b?(g&&(clearTimeout(g),g=null),h=k,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,l)),f}}function d(){a(window).width()<800&&a(".nav a").click(f)}function e(){a("#nav").removeClass("open"),d()}function f(){return a(this).parent().hasClass("selected")?(a("#nav").addClass("open"),a(this).click(e),!1):void e()}function g(){h(),d()}function h(){k=[],a(".section").each(function(b){k[b]=a(this).offset().top,l[b]=this.id}),k.push(a(document).height())}function i(){for(var b=a(window).scrollTop()+40,c=(a(document).height(),0);c<k.length;c++)if(b>=k[c]&&b<k[c+1]){a(".selected").removeClass("selected"),a("nav>ul li:nth-child("+(c+1)+")").addClass("selected"),h();break}}var j=Date.now||function(){return(new Date).getTime()},k=[],l=[],m=a(".nav").offset().top;0===m&&(m=a(window).height()),h(),a(window).resize(b(g,100)),d(),a(window).scroll(function(){a(window).scrollTop()>m?(a("#header-wrapper").removeClass("before-scroll").addClass("after-scroll"),c(i(),250),a(".selected").length||a(".nav li:first-child").addClass("selected")):a(window).scrollTop()<=m&&(a("#header-wrapper").removeClass("after-scroll").addClass("before-scroll"),a(".nav li.selected").removeClass("selected"),m=a(window).width()<800?a(window).height():a(".nav").offset().top)}),a(window).trigger("scroll"),a(".nav a").click(function(){var b=a(a(this).attr("href")).offset().top,c=Math.abs(b-a(window).scrollTop()),d=c/2.5;return a("html, body").animate({scrollTop:b},d,i),!1}),a(".logo").click(function(){var b=a(window).scrollTop()/2.5;a(".selected").length&&a("html, body").animate({scrollTop:0},b)});var n=a("#contact-form-response"),o=a("#contact-form"),p=a(o).parent();a(o).submit(function(b){b.preventDefault();var c=o.serialize();a(p).addClass("waiting"),a.ajax({type:"POST",url:a(o).attr("action"),data:c}).done(function(b){a(n).removeClass("error"),a(n).addClass("success"),a(p).removeClass("waiting"),a(o).hide(),a(n).text(b)}).fail(function(b){a(p).removeClass("waiting"),a(n).addClass("error");var c=b.responseText;""!==c.responseText?a(n).text(c):a("#responseDiv > p.unknown-error").show()})}),a(".logo").hover(function(){a(this).toggleClass("hover")})}(jQuery);
//# sourceMappingURL=main.min.js.map